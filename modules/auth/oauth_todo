if(decoded.oauth) {
  oauthModel.findOne({"userName":decoded.username}, (err2,user) => {
    if ((err1||err2)||(user.token !== token)||(!token)) {
      return res.json({ type:true, success: false, message: 'Failed to authenticate token.' });
    }
    else {
      // if everything is good, save to request for use in other routes
      req.decoded = decoded;
      next();
    }
  });
}
